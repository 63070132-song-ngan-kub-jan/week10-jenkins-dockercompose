pipeline {
  agent any
  environment {
    DOCKER_CREDS: credentials('dockerhub')
    GIT_CREDS: credentials('github')
  }
  stages {
    stage('Pull images') {
      steps {
        echo 'Pulling Docker images from DockerHub...'
        sh 'docker pull panupongkeawkam/week10-jenkins-dockercompose-frontend'
        sh 'docker pull panupongkeawkam/week10-jenkins-dockercompose-backend'
      }
    }
    stage('Run containers') {
      steps {
        echo 'Running containers...'
        sh 'docker-compose up'
        sh 'docker-compose up'
      }
    }
  }
}